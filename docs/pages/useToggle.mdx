# useToggle

The useIntersectionObserver is a custom hook in React that allows you to detect when an element is in the viewport of a user's browser. It takes in an object with a ref property and an optional options property. The ref property is a reference object to an element in the DOM, and the options property is an object with configuration options for the intersection observer instance.

The hook returns an IntersectionObserverEntry object if the element is in the viewport, otherwise it returns undefined. The entry object contains information about the intersection between the element and the viewport, such as the intersection ratio and whether the element is fully or partially in the viewport.

The hook uses the useIsomorphicEffect hook to set up an intersection observer instance on the element when the component mounts and clean it up when the component unmounts. The intersection observer instance is configured with the options passed in the options object.

The hook also includes a state variable entry and a state updater function updateEntry that stores the IntersectionObserverEntry object returned by the intersection observer instance and updates the component's state with it.

If the triggerOnce option is set to true, the hook will check for intersection only once and will disconnect the intersection observer instance after the intersection.

The default values for the rootMargin and threshold options are '0px' and [0], respectively. The root option defaults to null.

## The Hook

```ts filename="useToggle.ts"
import { useState, useCallback, Dispatch, SetStateAction } from 'react'

export const useToggle = (
  initialValue: boolean
): [boolean, () => void, Dispatch<SetStateAction<boolean>>] => {
  const [value, setValue] = useState<boolean>(initialValue)

  const toggle = useCallback((value?: boolean) => {
    setValue((prevState) => value ?? !prevState)
  }, [])

  return [value, toggle, setValue]
}
```

## Usage

```tsx filename="OnClickToggle.tsx"
import React from 'react'
import { useToggle } from './useToggle'

export const UseToggleDemo = () => {
  const [value, toggle, setValue] = useToggle(false)

  return (
    <div>
      <p>Current Value: {value?.toString()}</p>
      <button onClick={() => toggle()} type='button'>
        Toggle
      </button>
      <button onClick={() => setValue(true)}>Set Value</button>
    </div>
  )
}
```
